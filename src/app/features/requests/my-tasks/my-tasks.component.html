<app-header></app-header>

<div class="tasks-container">
  <div class="tasks-header">
    <h1>My Tasks</h1>
  </div>

  <div class="tasks-table-container">
    <table class="tasks-table">
      <thead>
        <tr>
          <th>Request #</th>
          <th>Employee</th>
          <th>Service Type</th>
          <th>Submission Date</th>
          <th>Last Updated</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (task of tasks; track task.id) {
          <tr>
            <td>
              <a [routerLink]="['/my-tasks', task.id]" class="task-link">{{ task.id }}</a>
            </td>
            <td>{{ task.employee }}</td>
            <td>{{ task.serviceType }}</td>
            <td>{{ task.submissionDate }}</td>
            <td>{{ task.lastUpdated }}</td>
            <td>
              <span class="status-badge" [ngClass]="getStatusClass(task.status)">
                {{ task.status }}
              </span>
            </td>
            <td>
              <div class="action-buttons">
                <button class="action-btn approve" (click)="approveTask(task.id)" title="Approve">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M20 6L9 17l-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <button class="action-btn reject" (click)="rejectTask(task.id)" title="Reject">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <button class="action-btn view" [routerLink]="['/my-tasks', task.id]" title="View Details">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </button>
              </div>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
